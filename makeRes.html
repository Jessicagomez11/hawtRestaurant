<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Make Reservation</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body>

    <div class="container">
        <div class="row center">
            <h2>Make A Reservation</h2>

            <button class="btn waves-effect waves-light black large submitRes" >Home
                <i class="material-icons right">home</i>
            </button>
            <button class="btn waves-effect waves-light black large submitRes"  >View Tables
                <i class="material-icons right">local_dining</i>
            </button>

            <form class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="icon_prefix" type="text" class="validate name">
                        <label for="icon_prefix">First Name</label>
                    </div>

                    <div class="input-field col s12">
                        <i class="material-icons prefix">phone</i>
                        <input id="icon_telephone" type="tel" class="validate phoneNum">
                        <label for="icon_telephone">Telephone</label>
                    </div>

                    <div class="input-field col s12">
                        <i class="material-icons prefix">mail</i>
                        <input id="icon_telephone" type="text" class="validate email">
                        <label for="icon_telephone">email</label>
                    </div>

                    <div class="input-field col s12">
                        <i class="material-icons prefix">face</i>
                        <input id="icon_telephone" type="text" class="validate uniqueID">
                        <label for="icon_telephone">Unique ID</label>
                    </div>

                    <button class="btn waves-effect waves-light black large submitRes" type="submit"
                        name="action">Submit
                        <i class="material-icons right">send</i>
                    </button>

                </div>
            </form>
        </div>


    </div>

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        $(".submitRes").on("click", function (event) {
            event.preventDefault();
            var newRes = {
                name: $(".name").val().trim(),
                phone: $(".phoneNum").val().trim(),
                email: $(".email").val().trim(),
                id: $(".uniqueID").val().trim()
            };
            console.log(newRes)
        
      
      $.post("/api/tables", newRes)
        .then(function(data) {
          console.log("ADDED NEW REERVATION", data);
          alert("RESERVATION ADDED!");
        });
    });



    </script>

</body>

</html>